{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from\"axios\";import{BACKEND_URL}from\"../../Env\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProfile=function EditProfile(_ref){var data=_ref.data,setEditProfile=_ref.setEditProfile,isClicked=_ref.isClicked;var _useState=useState(data.name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(data.comments),_useState4=_slicedToArray(_useState3,2),comments=_useState4[0],setComments=_useState4[1];var profile_id=data.id;var requestSaveProfile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(BACKEND_URL+'/edit/profile',{name:name,comments:comments,profile_id:profile_id});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function requestSaveProfile(){return _ref2.apply(this,arguments);};}();if(isClicked){requestSaveProfile();setEditProfile(false);}return/*#__PURE__*/_jsxs(\"main\",{className:\"form-input\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"\\uC774\\uB984\",defaultValue:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"\\uC774\\uB984\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"\\uD55C \\uC904 \\uC18C\\uAC1C\",defaultValue:comments,onChange:function onChange(e){return setComments(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"\\uD55C \\uC904 \\uC18C\\uAC1C\"})]})]});};var Profile=function Profile(_ref3){var profileData=_ref3.profileData,editProfile=_ref3.editProfile,setEditProfile=_ref3.setEditProfile,handleEditProfile=_ref3.handleEditProfile,isClicked=_ref3.isClicked,setIsClicked=_ref3.setIsClicked;var handleProfileSubmit=function handleProfileSubmit(e){e.preventDefault();e.stopPropagation();setIsClicked(function(prevState){return!prevState;});};return/*#__PURE__*/_jsxs(\"div\",{className:\"awards-portfolio\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD504\\uB85C\\uD544\"}),editProfile?Array.from(profileData).map(function(profile){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(EditProfile,{data:profile,setEditProfile:setEditProfile,isClicked:isClicked})},\"profile_\".concat(profile.id,\"_edit\"));}):Array.from(profileData).map(function(profile){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:profile.name}),/*#__PURE__*/_jsx(\"p\",{children:profile.comments})]},\"profile_\".concat(profile.id));}),editProfile?/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",role:\"group\",\"aria-label\":\"Basic outlined example\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:handleProfileSubmit,type:\"submit\",children:\"\\uC644\\uB8CC\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",role:\"group\",\"aria-label\":\"Basic outlined example\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:handleEditProfile,type:\"button\",children:\"\\uC218\\uC815\"})})]});};export default Profile;","map":{"version":3,"sources":["C:/Users/gmlwo/Desktop/곰돌희/취뽀/elice/프로젝트/portfolio-project/frontend/src/components/portfolio/Profile.js"],"names":["React","useState","axios","BACKEND_URL","EditProfile","data","setEditProfile","isClicked","name","setName","comments","setComments","profile_id","id","requestSaveProfile","post","console","log","e","target","value","Profile","profileData","editProfile","handleEditProfile","setIsClicked","handleProfileSubmit","preventDefault","stopPropagation","prevState","Array","from","map","profile"],"mappings":"krBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,WAAR,KAA0B,WAA1B,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAyC,IAAtCC,CAAAA,IAAsC,MAAtCA,IAAsC,CAAhCC,cAAgC,MAAhCA,cAAgC,CAAhBC,SAAgB,MAAhBA,SAAgB,eAC/BN,QAAQ,CAACI,IAAI,CAACG,IAAN,CADuB,wCAClDA,IADkD,eAC5CC,OAD4C,8BAEvBR,QAAQ,CAACI,IAAI,CAACK,QAAN,CAFe,yCAElDA,QAFkD,eAEzCC,WAFyC,eAGzD,GAAMC,CAAAA,UAAU,CAAMP,IAAI,CAACQ,EAA3B,CAEA,GAAMC,CAAAA,kBAAkB,2FAAG,yKAEbZ,CAAAA,KAAK,CAACa,IAAN,CACFZ,WAAW,CAAG,eADZ,CAEF,CAAEK,IAAI,CAAJA,IAAF,CAAQE,QAAQ,CAARA,QAAR,CAAkBE,UAAU,CAAVA,UAAlB,CAFE,CAFa,sFAOnBI,OAAO,CAACC,GAAR,cAPmB,mEAAH,kBAAlBH,CAAAA,kBAAkB,2CAAxB,CAWA,GAAIP,SAAJ,CAAc,CACVO,kBAAkB,GAClBR,cAAc,CAAC,KAAD,CAAd,CACH,CAED,mBACI,cAAM,SAAS,CAAC,YAAhB,wBACI,aAAK,SAAS,CAAC,eAAf,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA6C,WAAW,CAAC,cAAzD,CAA8D,YAAY,CAAEE,IAA5E,CAAkF,QAAQ,CAAE,kBAAAU,CAAC,QAAIT,CAAAA,OAAO,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,EAA7F,EADJ,cAEI,cAAO,OAAO,CAAC,eAAf,0BAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,eAAf,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,WAAW,CAAC,4BAAxD,CAAiE,YAAY,CAAEV,QAA/E,CAAyF,QAAQ,CAAE,kBAAAQ,CAAC,QAAIP,CAAAA,WAAW,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAApG,EADJ,cAEI,cAAO,OAAO,CAAC,eAAf,wCAFJ,GALJ,GADJ,CAaH,CAlCD,CAqCA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,OAA8F,IAA3FC,CAAAA,WAA2F,OAA3FA,WAA2F,CAA9EC,WAA8E,OAA9EA,WAA8E,CAAjEjB,cAAiE,OAAjEA,cAAiE,CAAjDkB,iBAAiD,OAAjDA,iBAAiD,CAA9BjB,SAA8B,OAA9BA,SAA8B,CAAnBkB,YAAmB,OAAnBA,YAAmB,CAC1G,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACR,CAAD,CAAO,CAC/BA,CAAC,CAACS,cAAF,GACAT,CAAC,CAACU,eAAF,GACAH,YAAY,CAAC,SAAAI,SAAS,QAAK,CAACA,SAAN,EAAV,CAAZ,CACH,CAJD,CAKA,mBACI,aAAK,SAAS,CAAC,kBAAf,wBACI,0CADJ,CAGQN,WAAW,CACXO,KAAK,CAACC,IAAN,CAAWT,WAAX,EAAwBU,GAAxB,CAA4B,SAAAC,OAAO,CAAI,CACnC,mBACI,kCACI,KAAC,WAAD,EAAa,IAAI,CAAEA,OAAnB,CAA4B,cAAc,CAAE3B,cAA5C,CAA4D,SAAS,CAAEC,SAAvE,EADJ,oBAAqB0B,OAAO,CAACpB,EAA7B,UADJ,CAKH,CAND,CADW,CAQXiB,KAAK,CAACC,IAAN,CAAWT,WAAX,EAAwBU,GAAxB,CAA4B,SAAAC,OAAO,CAAI,CACnC,mBACI,oCACI,oBAAKA,OAAO,CAACzB,IAAb,EADJ,cAEI,mBAAIyB,OAAO,CAACvB,QAAZ,EAFJ,qBAAqBuB,OAAO,CAACpB,EAA7B,EADJ,CAMH,CAPD,CAXR,CAoBKU,WAAW,cACR,YAAK,SAAS,CAAC,WAAf,CAA2B,IAAI,CAAC,OAAhC,CAAwC,aAAW,wBAAnD,uBACI,eAAQ,SAAS,CAAC,yBAAlB,CAA4C,OAAO,CAAEG,mBAArD,CAA0E,IAAI,CAAC,QAA/E,0BADJ,EADQ,cAIR,YAAK,SAAS,CAAC,WAAf,CAA2B,IAAI,CAAC,OAAhC,CAAwC,aAAW,wBAAnD,uBACI,eAAQ,SAAS,CAAC,yBAAlB,CAA4C,OAAO,CAAEF,iBAArD,CAAwE,IAAI,CAAC,QAA7E,0BADJ,EAxBR,GADJ,CAgCH,CAtCD,CAwCA,cAAeH,CAAAA,OAAf","sourcesContent":["import React, {useState} from 'react';\r\nimport axios from \"axios\";\r\nimport {BACKEND_URL} from \"../../Env\";\r\n\r\nconst EditProfile = ({ data, setEditProfile, isClicked }) => {\r\n    const [name, setName]   = useState(data.name);\r\n    const [comments,setComments]    = useState(data.comments);\r\n    const profile_id    = data.id;\r\n\r\n    const requestSaveProfile = async () => {\r\n        try {\r\n            await axios.post(\r\n                BACKEND_URL + '/edit/profile',\r\n                { name, comments, profile_id }\r\n            );\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    if (isClicked){\r\n        requestSaveProfile();\r\n        setEditProfile(false);\r\n    }\r\n\r\n    return (\r\n        <main className=\"form-input\">\r\n            <div className=\"form-floating\">\r\n                <input type=\"text\" className=\"form-control\"  placeholder=\"이름\" defaultValue={name} onChange={e => setName(e.target.value)} />\r\n                <label htmlFor=\"floatingInput\">이름</label>\r\n            </div>\r\n            <div className=\"form-floating\">\r\n                <input type=\"text\" className=\"form-control\" placeholder=\"한 줄 소개\" defaultValue={comments} onChange={e => setComments(e.target.value)} />\r\n                <label htmlFor=\"floatingInput\">한 줄 소개</label>\r\n            </div>\r\n        </main>\r\n    );\r\n    \r\n}\r\n\r\n\r\nconst Profile = ({ profileData, editProfile, setEditProfile, handleEditProfile, isClicked, setIsClicked }) => {\r\n    const handleProfileSubmit = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        setIsClicked(prevState => (!prevState));\r\n    }\r\n    return (\r\n        <div className=\"awards-portfolio\">\r\n            <h3>프로필</h3>\r\n            {\r\n                editProfile ?\r\n                Array.from(profileData).map(profile => {\r\n                    return (\r\n                        <div key={`profile_${profile.id}_edit`}>\r\n                            <EditProfile data={profile} setEditProfile={setEditProfile} isClicked={isClicked} />\r\n                        </div>\r\n                    )\r\n                }) : \r\n                Array.from(profileData).map(profile => {\r\n                    return (\r\n                        <div key={`profile_${profile.id}`}>\r\n                            <h5>{profile.name}</h5>\r\n                            <p>{profile.comments}</p>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n            {editProfile ?\r\n                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\r\n                    <button className=\"btn btn-outline-primary\" onClick={handleProfileSubmit} type=\"submit\">완료</button>\r\n                </div>:\r\n                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\r\n                    <button className=\"btn btn-outline-primary\" onClick={handleEditProfile} type=\"button\">수정</button>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n    \r\n}\r\n\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}