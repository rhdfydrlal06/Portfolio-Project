{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Redirect}from'react-router-dom';import axios from\"axios\";import Awards from\"../components/portfolio/Awards\";import Schools from\"../components/portfolio/Schools\";import Projects from\"../components/portfolio/Projects\";import Certificates from\"../components/portfolio/Certificates\";import Profile from\"../components/portfolio/Profile\";import{FullPage,LeftSide,RightSide}from'../styles/MainStyle';import{BACKEND_URL}from\"../Env\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(_ref){var sessionId=_ref.sessionId;var templateStyle={width:'60vw'};var _useState=useState({}),_useState2=_slicedToArray(_useState,2),awardData=_useState2[0],setAwardData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),schoolData=_useState4[0],setSchoolData=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),certificateData=_useState6[0],setCertificateData=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),projectData=_useState8[0],setProjectData=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),profileData=_useState10[0],setProfileData=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),editProfile=_useState12[0],setEditProfile=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),editSchool=_useState14[0],setEditSchool=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),editAward=_useState16[0],setEditAward=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),editProject=_useState18[0],setEditProject=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),editCertificate=_useState20[0],setEditCertificate=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),isSchoolClicked=_useState22[0],setIsSchoolClicked=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),isAwardClicked=_useState24[0],setIsAwardClicked=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),isCertificateClicked=_useState26[0],setIsCertificateClicked=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isProjectClicked=_useState28[0],setIsProjectClicked=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),isProfileClicked=_useState30[0],setIsProfileClicked=_useState30[1];// get Data from Flask\nuseEffect(function(){// Default roaded data\nvar fetchPortfolio=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(BACKEND_URL+'/portfolio/main',{sessionId:sessionId});case 2:res=_context.sent;data=res.data.data.portfolio;setAwardData(data.awards);setSchoolData(data.schools);setCertificateData(data.certificates);setProjectData(data.projects);setProfileData(data.profile);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchPortfolio(){return _ref2.apply(this,arguments);};}();fetchPortfolio();// After edit reroad data\nvar fetchProfile=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(BACKEND_URL+'/portfolio/main/profile',{sessionId:sessionId});case 2:res=_context2.sent;data=res.data.data.profile;setProfileData(data);setIsProfileClicked(false);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchProfile(){return _ref3.apply(this,arguments);};}();var fetchAwards=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post(BACKEND_URL+'/portfolio/main/awards',{sessionId:sessionId});case 2:res=_context3.sent;data=res.data.data.awards;setAwardData(data);setIsAwardClicked(false);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchAwards(){return _ref4.apply(this,arguments);};}();var fetchSchools=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var res,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.post(BACKEND_URL+'/portfolio/main/schools',{sessionId:sessionId});case 2:res=_context4.sent;data=res.data.data.schools;setSchoolData(data);setIsSchoolClicked(false);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function fetchSchools(){return _ref5.apply(this,arguments);};}();var fetchCertificates=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var res,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.post(BACKEND_URL+'/portfolio/main/certificates',{sessionId:sessionId});case 2:res=_context5.sent;data=res.data.data.certificates;setCertificateData(data);setIsCertificateClicked(false);case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function fetchCertificates(){return _ref6.apply(this,arguments);};}();var fetchProjects=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var res,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.post(BACKEND_URL+'/portfolio/main/projects',{sessionId:sessionId});case 2:res=_context6.sent;data=res.data.data.projects;setProjectData(data);setIsProjectClicked(false);case 6:case\"end\":return _context6.stop();}}},_callee6);}));return function fetchProjects(){return _ref7.apply(this,arguments);};}();if(editSchool&&isSchoolClicked){fetchSchools();}if(editAward&&isAwardClicked){fetchAwards();}if(editCertificate&&isCertificateClicked){fetchCertificates();}if(editProfile&&isProfileClicked){fetchProfile();}if(editProject&&isProjectClicked){fetchProjects();}},[sessionId,editSchool,editAward,editCertificate,editProfile,editProject,setSchoolData,setAwardData,setCertificateData,setProfileData,setProjectData,isProjectClicked,isSchoolClicked,isAwardClicked,isProfileClicked,isCertificateClicked,setIsProjectClicked,setIsSchoolClicked,setIsAwardClicked,setIsProfileClicked,setIsCertificateClicked]);// Set the \"Edit<->Read\" State's status \nvar handleEditProfile=function handleEditProfile(){setEditProfile(function(prevState){return!prevState;});};var handleEditAwards=function handleEditAwards(){setEditAward(function(prevState){return!prevState;});};var handleEditSchools=function handleEditSchools(){setEditSchool(function(prevState){return!prevState;});};var handleEditCertificates=function handleEditCertificates(){setEditCertificate(function(prevState){return!prevState;});};var handleEditProjects=function handleEditProjects(){setEditProject(function(prevState){return!prevState;});};return/*#__PURE__*/_jsxs(FullPage,{children:[sessionId===null&&/*#__PURE__*/_jsx(Redirect,{to:\"/login\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"My Protfolio\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(LeftSide,{children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-center\",style:{width:'28vw'},children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(Profile,{profileData:profileData,editProfile:editProfile,setEditProfile:setEditProfile,handleEditProfile:handleEditProfile,isClicked:isProfileClicked,setIsClicked:setIsProfileClicked})})})}),/*#__PURE__*/_jsxs(RightSide,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card text-center\",style:templateStyle,children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(Schools,{schoolData:schoolData,editSchool:editSchool,setEditSchool:setEditSchool,handleEditSchools:handleEditSchools,isClicked:isSchoolClicked,setIsClicked:setIsSchoolClicked,setSchoolData:setSchoolData,sessionId:sessionId})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card text-center\",style:templateStyle,children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(Awards,{awardData:awardData,editAward:editAward,setEditAward:setEditAward,handleEditAwards:handleEditAwards,isClicked:isAwardClicked,setIsClicked:setIsAwardClicked,setAwardData:setAwardData,sessionId:sessionId})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card text-center\",style:templateStyle,children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(Projects,{projectData:projectData,editProject:editProject,setEditProject:setEditProject,handleEditProjects:handleEditProjects,isClicked:isProjectClicked,setIsClicked:setIsProjectClicked,setProjectData:setProjectData,sessionId:sessionId})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card text-center\",style:templateStyle,children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(Certificates,{certificateData:certificateData,editCertificate:editCertificate,setEditCertificate:setEditCertificate,handleEditCertificates:handleEditCertificates,isClicked:isCertificateClicked,setIsClicked:setIsCertificateClicked,setCertificateData:setCertificateData,sessionId:sessionId})})})]})]});};export default Main;","map":{"version":3,"sources":["C:/Users/gmlwo/Desktop/곰돌희/취뽀/elice/프로젝트/portfolio-project/frontend/src/pages/Main.js"],"names":["React","useState","useEffect","Redirect","axios","Awards","Schools","Projects","Certificates","Profile","FullPage","LeftSide","RightSide","BACKEND_URL","Main","sessionId","templateStyle","width","awardData","setAwardData","schoolData","setSchoolData","certificateData","setCertificateData","projectData","setProjectData","profileData","setProfileData","editProfile","setEditProfile","editSchool","setEditSchool","editAward","setEditAward","editProject","setEditProject","editCertificate","setEditCertificate","isSchoolClicked","setIsSchoolClicked","isAwardClicked","setIsAwardClicked","isCertificateClicked","setIsCertificateClicked","isProjectClicked","setIsProjectClicked","isProfileClicked","setIsProfileClicked","fetchPortfolio","post","res","data","portfolio","awards","schools","certificates","projects","profile","fetchProfile","fetchAwards","fetchSchools","fetchCertificates","fetchProjects","handleEditProfile","prevState","handleEditAwards","handleEditSchools","handleEditCertificates","handleEditProjects"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from \"axios\";\r\n\r\nimport Awards from \"../components/portfolio/Awards\";\r\nimport Schools from \"../components/portfolio/Schools\";\r\nimport Projects from \"../components/portfolio/Projects\";\r\nimport Certificates from \"../components/portfolio/Certificates\";\r\nimport Profile from \"../components/portfolio/Profile\";\r\nimport { FullPage, LeftSide, RightSide } from '../styles/MainStyle';\r\nimport {BACKEND_URL} from \"../Env\";\r\n\r\nconst Main = ({ sessionId }) => {\r\n    const templateStyle                                     = {width: '60vw'}\r\n    const [awardData, setAwardData]                         = useState({});\r\n    const [schoolData, setSchoolData]                       = useState({});\r\n    const [certificateData, setCertificateData]             = useState({});\r\n    const [projectData, setProjectData]                     = useState({});\r\n    const [profileData, setProfileData]                     = useState({});\r\n\r\n    const [editProfile, setEditProfile]                     = useState(false);\r\n    const [editSchool, setEditSchool]                       = useState(false);\r\n    const [editAward, setEditAward]                         = useState(false);\r\n    const [editProject, setEditProject]                     = useState(false);\r\n    const [editCertificate, setEditCertificate]             = useState(false);\r\n\r\n    const [isSchoolClicked, setIsSchoolClicked]             = useState(false);\r\n    const [isAwardClicked, setIsAwardClicked]               = useState(false);\r\n    const [isCertificateClicked, setIsCertificateClicked]   = useState(false);\r\n    const [isProjectClicked, setIsProjectClicked]           = useState(false);\r\n    const [isProfileClicked, setIsProfileClicked]           = useState(false);\r\n    \r\n    // get Data from Flask\r\n    useEffect(()=>{\r\n        // Default roaded data\r\n        const fetchPortfolio = async () => {\r\n            const res = await axios.post(BACKEND_URL + '/portfolio/main', {sessionId});\r\n            const data = res.data.data.portfolio;\r\n            setAwardData(data.awards);\r\n            setSchoolData(data.schools);\r\n            setCertificateData(data.certificates);\r\n            setProjectData(data.projects);\r\n            setProfileData(data.profile);\r\n        }\r\n        fetchPortfolio();\r\n\r\n        // After edit reroad data\r\n        const fetchProfile = async () => {\r\n            const res = await axios.post(BACKEND_URL + '/portfolio/main/profile', {sessionId});\r\n            const data = res.data.data.profile;\r\n            setProfileData(data);\r\n            setIsProfileClicked(false);\r\n            \r\n        }\r\n        const fetchAwards = async () => {\r\n            const res = await axios.post(BACKEND_URL + '/portfolio/main/awards', {sessionId});\r\n            const data = res.data.data.awards;\r\n            setAwardData(data);\r\n            setIsAwardClicked(false);\r\n        }\r\n        const fetchSchools = async () => {\r\n            const res = await axios.post(BACKEND_URL + '/portfolio/main/schools', {sessionId});\r\n            const data = res.data.data.schools;\r\n            setSchoolData(data);\r\n            setIsSchoolClicked(false);\r\n        }\r\n        const fetchCertificates = async () => {\r\n            const res = await axios.post(BACKEND_URL + '/portfolio/main/certificates', {sessionId});\r\n            const data = res.data.data.certificates;\r\n            setCertificateData(data);\r\n            setIsCertificateClicked(false);\r\n        }\r\n        const fetchProjects = async () => {\r\n            const res = await axios.post(BACKEND_URL + '/portfolio/main/projects', {sessionId});\r\n            const data = res.data.data.projects;\r\n            setProjectData(data);\r\n            setIsProjectClicked(false);\r\n        }\r\n        if(editSchool && isSchoolClicked){\r\n            fetchSchools();\r\n        }\r\n        if(editAward && isAwardClicked){\r\n            fetchAwards();\r\n        }\r\n        if(editCertificate && isCertificateClicked){\r\n            fetchCertificates();\r\n        }\r\n        if(editProfile && isProfileClicked){\r\n            fetchProfile();\r\n        }\r\n        if(editProject && isProjectClicked){\r\n            fetchProjects();\r\n        }\r\n    }, [sessionId, editSchool, editAward, editCertificate, editProfile, editProject, \r\n        setSchoolData, setAwardData, setCertificateData, setProfileData, setProjectData, \r\n        isProjectClicked, isSchoolClicked, isAwardClicked, isProfileClicked, isCertificateClicked,\r\n        setIsProjectClicked, setIsSchoolClicked, setIsAwardClicked, setIsProfileClicked, setIsCertificateClicked]);\r\n\r\n    // Set the \"Edit<->Read\" State's status \r\n    const handleEditProfile         = () => {setEditProfile(prevState => (!prevState))};\r\n    const handleEditAwards          = () => {setEditAward(prevState => (!prevState))};\r\n    const handleEditSchools         = () => {setEditSchool(prevState => (!prevState))};\r\n    const handleEditCertificates    = () => {setEditCertificate(prevState => (!prevState))};\r\n    const handleEditProjects        = () => {setEditProject(prevState => (!prevState))};\r\n    \r\n    return (\r\n        \r\n        <FullPage>\r\n            {sessionId === null && <Redirect to=\"/login\" />}\r\n            <h1 className=\"text-center\">My Protfolio</h1>\r\n            <br />\r\n            <LeftSide>\r\n                <div className=\"card text-center\" style={{width: '28vw'}}>\r\n                    <div className=\"card-body\">\r\n                        <Profile profileData={profileData} editProfile={editProfile} setEditProfile={setEditProfile} handleEditProfile={handleEditProfile} isClicked={isProfileClicked} setIsClicked={setIsProfileClicked} />\r\n                    </div>\r\n                </div>\r\n            </LeftSide>\r\n            <RightSide>\r\n                <div className=\"card text-center\" style={templateStyle}>\r\n                    <div className=\"card-body\">\r\n                        <Schools schoolData={schoolData} editSchool={editSchool} setEditSchool={setEditSchool} handleEditSchools={handleEditSchools} isClicked={isSchoolClicked} setIsClicked={setIsSchoolClicked} setSchoolData={setSchoolData} sessionId={sessionId} />\r\n                    </div>\r\n                </div> \r\n\r\n                <div className=\"card text-center\" style={templateStyle}>\r\n                    <div className=\"card-body\">\r\n                        <Awards awardData={awardData} editAward={editAward} setEditAward={setEditAward} handleEditAwards={handleEditAwards} isClicked={isAwardClicked} setIsClicked={setIsAwardClicked} setAwardData={setAwardData} sessionId={sessionId} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"card text-center\" style={templateStyle}>\r\n                    <div className=\"card-body\">\r\n                        <Projects projectData={projectData} editProject={editProject} setEditProject={setEditProject} handleEditProjects={handleEditProjects} isClicked={isProjectClicked} setIsClicked={setIsProjectClicked} setProjectData={setProjectData} sessionId={sessionId} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"card text-center\" style={templateStyle}>\r\n                    <div className=\"card-body\">\r\n                        <Certificates certificateData={certificateData}  editCertificate={editCertificate} setEditCertificate={setEditCertificate} handleEditCertificates={handleEditCertificates} isClicked={isCertificateClicked} setIsClicked={setIsCertificateClicked} setCertificateData={setCertificateData} sessionId={sessionId} />\r\n                    </div>\r\n                </div>\r\n            </RightSide>\r\n        </FullPage>\r\n    );\r\n    \r\n}\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}