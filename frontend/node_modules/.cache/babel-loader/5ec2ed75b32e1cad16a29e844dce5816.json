{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from\"axios\";import{BACKEND_URL}from\"../../Env\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditAward=function EditAward(_ref){var data=_ref.data,setEditAward=_ref.setEditAward,isClicked=_ref.isClicked,sessionId=_ref.sessionId,setAwardData=_ref.setAwardData;var _useState=useState(data.awards),_useState2=_slicedToArray(_useState,2),award=_useState2[0],setAward=_useState2[1];var _useState3=useState(data.awards_details),_useState4=_slicedToArray(_useState3,2),awardDetail=_useState4[0],setAwardDetail=_useState4[1];var award_id=data.id;var requestSaveAward=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(BACKEND_URL+'/edit/award',{award:award,awardDetail:awardDetail,award_id:award_id});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function requestSaveAward(){return _ref2.apply(this,arguments);};}();var requestDeleteAward=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var res,_data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();e.stopPropagation();_context2.prev=2;_context2.next=5;return axios.post(BACKEND_URL+'/delete/award',{award_id:award_id});case 5:_context2.next=7;return axios.post(BACKEND_URL+'/portfolio/main/awards',{sessionId:sessionId});case 7:res=_context2.sent;_data=res.data.data.awards;setAwardData(_data);_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](2);console.log(_context2.t0);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[2,12]]);}));return function requestDeleteAward(_x){return _ref3.apply(this,arguments);};}();if(isClicked){requestSaveAward();setEditAward(false);}return/*#__PURE__*/_jsxs(\"main\",{className:\"form-input\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"\\uC218\\uC0C1 \\uC774\\uB984\",defaultValue:award,onChange:function onChange(e){return setAward(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"\\uC218\\uC0C1 \\uC774\\uB984\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"\\uC218\\uC0C1 \\uB0B4\\uC6A9\",defaultValue:awardDetail,onChange:function onChange(e){return setAwardDetail(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"\\uC218\\uC0C1 \\uB0B4\\uC6A9\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",role:\"group\",\"aria-label\":\"Basic outlined example\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:requestDeleteAward,type:\"button\",children:\"\\uC0AD\\uC81C\"})})]});};var Awards=function Awards(_ref4){var awardData=_ref4.awardData,editAward=_ref4.editAward,setEditAward=_ref4.setEditAward,handleEditAwards=_ref4.handleEditAwards,isClicked=_ref4.isClicked,setIsClicked=_ref4.setIsClicked,setAwardData=_ref4.setAwardData,sessionId=_ref4.sessionId;var handleAwardSubmit=function handleAwardSubmit(e){e.preventDefault();e.stopPropagation();setIsClicked(function(prevState){return!prevState;});};var requestAddAward=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var res,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();e.stopPropagation();_context3.next=4;return axios.post(BACKEND_URL+'/add/award',{sessionId:sessionId});case 4:_context3.next=6;return axios.post(BACKEND_URL+'/portfolio/main/awards',{sessionId:sessionId});case 6:res=_context3.sent;data=res.data.data.awards;setAwardData(data);case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function requestAddAward(_x2){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"awards-portfolio\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC218\\uC0C1\\uC774\\uB825\"}),editAward?Array.from(awardData).map(function(award){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(EditAward,{data:award,setEditAward:setEditAward,isClicked:isClicked,sessionId:sessionId,setAwardData:setAwardData})},\"award_\".concat(award.id,\"_edit\"));}):Array.from(awardData).map(function(award){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:award.awards}),/*#__PURE__*/_jsx(\"p\",{children:award.awards_details})]},\"award_\".concat(award.id));}),editAward?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",role:\"group\",\"aria-label\":\"Basic outlined example\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:requestAddAward,type:\"button\",children:\"\\uCD94\\uAC00\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",role:\"group\",\"aria-label\":\"Basic outlined example\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:handleAwardSubmit,type:\"submit\",children:\"\\uC644\\uB8CC\"})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",role:\"group\",\"aria-label\":\"Basic outlined example\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:handleEditAwards,type:\"button\",children:\"\\uC218\\uC815\"})})]});};export default Awards;","map":{"version":3,"sources":["C:/Users/gmlwo/Desktop/곰돌희/취뽀/elice/프로젝트/portfolio-project/frontend/src/components/portfolio/Awards.js"],"names":["React","useState","axios","BACKEND_URL","EditAward","data","setEditAward","isClicked","sessionId","setAwardData","awards","award","setAward","awards_details","awardDetail","setAwardDetail","award_id","id","requestSaveAward","post","console","log","requestDeleteAward","e","preventDefault","stopPropagation","res","target","value","Awards","awardData","editAward","handleEditAwards","setIsClicked","handleAwardSubmit","prevState","requestAddAward","Array","from","map"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport axios from \"axios\";\r\nimport {BACKEND_URL} from \"../../Env\";\r\n\r\nconst EditAward = ({ data, setEditAward, isClicked, sessionId, setAwardData }) => {\r\n    const [award, setAward]                 = useState(data.awards);\r\n    const [awardDetail,setAwardDetail]      = useState(data.awards_details);\r\n    const award_id                          = data.id;\r\n\r\n    const requestSaveAward = async () => {\r\n        try {\r\n            await axios.post(\r\n                BACKEND_URL + '/edit/award',\r\n                { award, awardDetail, award_id }\r\n            );\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    const requestDeleteAward = async (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        try {\r\n            await axios.post(\r\n                BACKEND_URL + '/delete/award',\r\n                { award_id }\r\n            );\r\n            const res = await axios.post(BACKEND_URL + '/portfolio/main/awards', {sessionId});\r\n            const data = res.data.data.awards;\r\n            setAwardData(data);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    if (isClicked){\r\n        requestSaveAward();\r\n        setEditAward(false);\r\n    }\r\n\r\n    return (\r\n        <main className=\"form-input\">\r\n            <div className=\"form-floating\">\r\n                <input type=\"text\" className=\"form-control\"  placeholder=\"수상 이름\" defaultValue={award} onChange={e => setAward(e.target.value)} />\r\n                <label htmlFor=\"floatingInput\">수상 이름</label>\r\n            </div>\r\n            <div className=\"form-floating\">\r\n                <input type=\"text\" className=\"form-control\" placeholder=\"수상 내용\" defaultValue={awardDetail} onChange={e => setAwardDetail(e.target.value)} />\r\n                <label htmlFor=\"floatingInput\">수상 내용</label>\r\n            </div>\r\n            <div className=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\r\n                <button className=\"btn btn-outline-primary\" onClick={requestDeleteAward} type=\"button\">삭제</button>\r\n            </div>\r\n        </main>\r\n    );\r\n    \r\n}\r\nconst Awards = ({ awardData, editAward, setEditAward, handleEditAwards, isClicked, setIsClicked, setAwardData, sessionId }) => {\r\n    const handleAwardSubmit = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        setIsClicked(prevState => (!prevState));\r\n    }\r\n    const requestAddAward = async (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        await axios.post(BACKEND_URL + '/add/award', {sessionId});\r\n        const res = await axios.post(BACKEND_URL + '/portfolio/main/awards', {sessionId});\r\n            const data = res.data.data.awards;\r\n            setAwardData(data);\r\n        \r\n    }\r\n    return (\r\n        <div className=\"awards-portfolio\">\r\n            <h3>수상이력</h3>\r\n            {\r\n                editAward ?\r\n                Array.from(awardData).map(award => {\r\n                    return (\r\n                        <div key={`award_${award.id}_edit`}>\r\n                            <EditAward data={award} setEditAward={setEditAward} isClicked={isClicked} sessionId={sessionId} setAwardData={setAwardData} />\r\n                        </div>\r\n                    )\r\n                }) : \r\n                Array.from(awardData).map(award => {\r\n                    return (\r\n                        <div key={`award_${award.id}`}>\r\n                            <h5>{award.awards}</h5>\r\n                            <p>{award.awards_details}</p>\r\n                        </div>\r\n                        \r\n                    )\r\n                })\r\n            }\r\n            {editAward ?\r\n            <div>\r\n                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\r\n                    <button className=\"btn btn-outline-primary\" onClick={requestAddAward} type=\"button\">추가</button>\r\n                </div>\r\n                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\r\n                    <button className=\"btn btn-outline-primary\" onClick={handleAwardSubmit} type=\"submit\">완료</button>\r\n                </div>\r\n            </div>:\r\n                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\r\n                    <button className=\"btn btn-outline-primary\" onClick={handleEditAwards} type=\"button\">수정</button>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n    \r\n}\r\n\r\nexport default Awards;"]},"metadata":{},"sourceType":"module"}