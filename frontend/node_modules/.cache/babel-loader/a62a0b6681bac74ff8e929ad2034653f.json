{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Redirect,useHistory}from'react-router-dom';import{FullPage}from'../styles/MainStyle';import axios from\"axios\";import{CardGroup,Card,Button}from'react-bootstrap';import{BACKEND_URL}from\"../Env\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileCard=function ProfileCard(_ref){var data=_ref.data,setReadWhos=_ref.setReadWhos;var history=useHistory();var routeChange=function routeChange(){setReadWhos(data.user_id);history.push('/read_portfolio');};return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:data.name}),/*#__PURE__*/_jsx(Card.Text,{children:data.comments}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:routeChange,children:\"\\uC815\\uBCF4\\uBCF4\\uAE30\"})]})});};var Network=function Network(_ref2){var sessionId=_ref2.sessionId,setReadWhos=_ref2.setReadWhos;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),serach=_useState2[0],setSearch=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];useEffect(function(){// Default roaded data\nvar fetchUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(BACKEND_URL+'/network/search_user',{serach:serach,sessionId:sessionId});case 2:res=_context.sent;data=res.data.data;setUserData(data.users);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchUser(){return _ref3.apply(this,arguments);};}();fetchUser();},[serach,sessionId,setUserData]);return/*#__PURE__*/_jsxs(FullPage,{children:[sessionId===null&&/*#__PURE__*/_jsx(Redirect,{to:\"/login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"\\uC774\\uB984\\uC73C\\uB85C \\uAC80\\uC0C9\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"button-addon2\",onChange:function onChange(e){return setSearch(e.target.value);}})}),Array.from(userData).map(function(user){return/*#__PURE__*/_jsx(CardGroup,{children:/*#__PURE__*/_jsx(ProfileCard,{data:user,setReadWhos:setReadWhos})},\"\".concat(user.id,\"_search\"));})]})]});};export default Network;","map":{"version":3,"sources":["C:/Users/gmlwo/Desktop/곰돌희/취뽀/elice/프로젝트/portfolio-project/frontend/src/pages/Network.js"],"names":["React","useState","useEffect","Redirect","useHistory","FullPage","axios","CardGroup","Card","Button","BACKEND_URL","ProfileCard","data","setReadWhos","history","routeChange","user_id","push","name","comments","Network","sessionId","serach","setSearch","userData","setUserData","fetchUser","post","res","users","e","target","value","Array","from","map","user","id"],"mappings":"krBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAsC,kBAAtC,CACA,OAASC,QAAT,KAAyB,qBAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,IAApB,CAA0BC,MAA1B,KAAwC,iBAAxC,CACA,OAAQC,WAAR,KAA0B,QAA1B,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAA2B,IAAxBC,CAAAA,IAAwB,MAAxBA,IAAwB,CAAlBC,WAAkB,MAAlBA,WAAkB,CAC3C,GAAMC,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CAEA,GAAMW,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAK,CACrBF,WAAW,CAACD,IAAI,CAACI,OAAN,CAAX,CACAF,OAAO,CAACG,IAAR,CAAa,iBAAb,EACH,CAHD,CAIA,mBACI,KAAC,IAAD,wBACI,MAAC,IAAD,CAAM,IAAN,yBACI,KAAC,IAAD,CAAM,KAAN,WAAaL,IAAI,CAACM,IAAlB,EADJ,cAEI,KAAC,IAAD,CAAM,IAAN,WAAYN,IAAI,CAACO,QAAjB,EAFJ,cAGI,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,OAAO,CAAEJ,WAAnC,sCAHJ,GADJ,EADJ,CAUH,CAjBD,CAmBA,GAAMK,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,OAAgC,IAA7BC,CAAAA,SAA6B,OAA7BA,SAA6B,CAAlBR,WAAkB,OAAlBA,WAAkB,eAChBZ,QAAQ,CAAC,EAAD,CADQ,wCACrCqB,MADqC,eAC7BC,SAD6B,8BAEZtB,QAAQ,CAAC,EAAD,CAFI,yCAErCuB,QAFqC,eAE3BC,WAF2B,eAG5CvB,SAAS,CAAC,UAAI,CACV;AACA,GAAMwB,CAAAA,SAAS,2FAAG,sKACIpB,CAAAA,KAAK,CAACqB,IAAN,CAAWjB,WAAW,CAAG,sBAAzB,CAAiD,CAACY,MAAM,CAANA,MAAD,CAASD,SAAS,CAATA,SAAT,CAAjD,CADJ,QACRO,GADQ,eAERhB,IAFQ,CAEDgB,GAAG,CAAChB,IAAJ,CAASA,IAFR,CAGda,WAAW,CAACb,IAAI,CAACiB,KAAN,CAAX,CAHc,sDAAH,kBAATH,CAAAA,SAAS,2CAAf,CAKAA,SAAS,GACZ,CARQ,CAQP,CAACJ,MAAD,CAASD,SAAT,CAAoBI,WAApB,CARO,CAAT,CAUA,mBACI,MAAC,QAAD,YACKJ,SAAS,GAAK,IAAd,eAAsB,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAD3B,cAEI,aAAK,SAAS,CAAC,kBAAf,wBACI,YAAK,SAAS,CAAC,kBAAf,uBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,WAAW,CAAC,uCAAxD,CAAkE,aAAW,sBAA7E,CAAoG,mBAAiB,eAArH,CAAqI,QAAQ,CAAE,kBAAAS,CAAC,QAAIP,CAAAA,SAAS,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAAhJ,EADJ,EADJ,CAKIC,KAAK,CAACC,IAAN,CAAWV,QAAX,EAAqBW,GAArB,CAAyB,SAAAC,IAAI,CAAI,CAC7B,mBACI,KAAC,SAAD,wBACI,KAAC,WAAD,EAAa,IAAI,CAAEA,IAAnB,CAAyB,WAAW,CAAEvB,WAAtC,EADJ,YAAmBuB,IAAI,CAACC,EAAxB,YADJ,CAKH,CAND,CALJ,GAFJ,GADJ,CAoBH,CAjCD,CAmCA,cAAejB,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Redirect, useHistory  } from 'react-router-dom';\r\nimport { FullPage } from '../styles/MainStyle';\r\nimport axios from \"axios\";\r\nimport { CardGroup, Card, Button } from 'react-bootstrap';\r\nimport {BACKEND_URL} from \"../Env\";\r\n\r\nconst ProfileCard = ({ data, setReadWhos }) => {\r\n    const history = useHistory();\r\n\r\n    const routeChange = () =>{\r\n        setReadWhos(data.user_id);\r\n        history.push('/read_portfolio');\r\n    }\r\n    return (\r\n        <Card>\r\n            <Card.Body>\r\n                <Card.Title>{data.name}</Card.Title>\r\n                <Card.Text>{data.comments}</Card.Text>\r\n                <Button variant=\"primary\" onClick={routeChange}>정보보기</Button>\r\n            </Card.Body>\r\n        </Card>\r\n        \r\n    );\r\n}\r\n\r\nconst Network = ({ sessionId, setReadWhos }) => {\r\n    const [serach, setSearch] = useState('');\r\n    const [userData, setUserData] = useState('');\r\n    useEffect(()=>{\r\n        // Default roaded data\r\n        const fetchUser = async () => {\r\n            const res = await axios.post(BACKEND_URL + '/network/search_user', {serach, sessionId});\r\n            const data = res.data.data;\r\n            setUserData(data.users);\r\n        }\r\n        fetchUser();\r\n    },[serach, sessionId, setUserData])\r\n\r\n    return (\r\n        <FullPage>\r\n            {sessionId === null && <Redirect to=\"/login\" />}\r\n            <div className=\"card text-center\">\r\n                <div className=\"input-group mb-3\">\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"이름으로 검색\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" onChange={e => setSearch(e.target.value)} />\r\n                </div>\r\n                {\r\n                Array.from(userData).map(user => {\r\n                    return (\r\n                        <CardGroup key={`${user.id}_search`}>\r\n                            <ProfileCard data={user} setReadWhos={setReadWhos} />\r\n                        </CardGroup>\r\n                    )\r\n                })\r\n            }\r\n            </div>\r\n        </FullPage>\r\n    );\r\n    \r\n}\r\n\r\nexport default Network;"]},"metadata":{},"sourceType":"module"}