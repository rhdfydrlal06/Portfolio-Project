{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/gmlwo/Desktop/\\uACF0\\uB3CC\\uD76C/\\uCDE8\\uBF40/elice/\\uD504\\uB85C\\uC81D\\uD2B8/portfolio-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from\"axios\";import{useHistory}from'react-router-dom';import{BACKEND_URL}from\"../Env\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(){// 입력값 저장할 state들\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),checkPassword=_useState6[0],setCheckPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),name=_useState8[0],setName=_useState8[1];// redirect 보내기\nvar history=useHistory();// 백앤드로 데이터 전송 및 응답 받기\nvar requestSignUp=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(BACKEND_URL+'/auth/signup',{email:email,password:password,checkPassword:checkPassword,name:name});case 3:res=_context.sent;alert(res.data.message);if(res.data.result===\"success\"){history.push(\"/login\");}history.push(\"/signup\");_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function requestSignUp(){return _ref.apply(this,arguments);};}();var handleSignUpSubmit=function handleSignUpSubmit(e){e.preventDefault();requestSignUp();};return/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"main\",{className:\"form-signin\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSignUpSubmit(e);},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-3 fw-normal\",children:\"Please Sign up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"floatingInput\",placeholder:\"name@example.com\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"floatingPassword\",placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{name:\"password\",htmlFor:\"floatingPassword\",children:\"Password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"check_password\",type:\"password\",className:\"form-control\",id:\"floatingPassword\",placeholder:\"Password\",onChange:function onChange(e){return setCheckPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingPassword\",children:\"Check Password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",type:\"name\",className:\"form-control\",id:\"floatingPassword\",placeholder:\"\\uC774\\uB984 \\uC785\\uB825\",onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"Name\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 btn btn-lg btn-secondary\",type:\"submit\",children:\"Sign up\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-5 mb-3 text-muted\",children:\"\\xA9 2021 RacerIn Co. all rights reserved.\"})]})})});};export default Signup;","map":{"version":3,"sources":["C:/Users/gmlwo/Desktop/곰돌희/취뽀/elice/프로젝트/portfolio-project/frontend/src/pages/Signup.js"],"names":["React","useState","axios","useHistory","BACKEND_URL","Signup","email","setEmail","password","setPassword","checkPassword","setCheckPassword","name","setName","history","requestSignUp","post","res","alert","data","message","result","push","console","log","handleSignUpSubmit","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from \"axios\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport {BACKEND_URL} from \"../Env\";\r\n\r\n\r\nconst Signup = () => {\r\n    // 입력값 저장할 state들\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [checkPassword, setCheckPassword] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n\r\n    // redirect 보내기\r\n    const history = useHistory();\r\n    // 백앤드로 데이터 전송 및 응답 받기\r\n    const requestSignUp = async () => {\r\n        try {\r\n            const res = await axios.post(\r\n                BACKEND_URL + '/auth/signup',\r\n                { email, password, checkPassword, name }\r\n            );\r\n            alert(res.data.message);\r\n            if (res.data.result===\"success\") {\r\n                history.push(\"/login\");  \r\n            }\r\n            history.push(\"/signup\");   \r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    const handleSignUpSubmit = (e) => {\r\n        e.preventDefault();\r\n        requestSignUp();\r\n    }\r\n\r\n\r\n        return (\r\n            <div className=\"text-center\">\r\n                <main className=\"form-signin\">\r\n                    <form onSubmit={e =>handleSignUpSubmit(e)}>\r\n                        <h1 className=\"h3 mb-3 fw-normal\">Please Sign up</h1>\r\n                        <div className=\"form-floating\">\r\n                            <input type=\"email\" className=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\" onChange={e => setEmail(e.target.value)} />\r\n                            <label htmlFor=\"floatingInput\">Email address</label>\r\n                        </div>\r\n                        <div className=\"form-floating\">\r\n                            <input type=\"password\" className=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\" onChange={e => setPassword(e.target.value)} />\r\n                            <label name=\"password\" htmlFor=\"floatingPassword\">Password</label>\r\n                        </div>\r\n                        <div className=\"form-floating\">\r\n                            <input name=\"check_password\" type=\"password\" className=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\" onChange={e => setCheckPassword(e.target.value)} />\r\n                            <label htmlFor=\"floatingPassword\">Check Password</label>\r\n                        </div>\r\n                        <div className=\"form-floating\">\r\n                            <input name=\"name\" type=\"name\" className=\"form-control\" id=\"floatingPassword\" placeholder=\"이름 입력\" onChange={e => setName(e.target.value)} />\r\n                            <label htmlFor=\"floatingInput\">Name</label>\r\n                        </div>\r\n                        <button className=\"w-100 btn btn-lg btn-secondary\" type=\"submit\">Sign up</button>\r\n                        <p className=\"mt-5 mb-3 text-muted\">&copy; 2021 RacerIn Co. all rights reserved.</p>\r\n                    </form>\r\n                </main>\r\n            </div>\r\n        );\r\n}\r\n\r\nexport default Signup;"]},"metadata":{},"sourceType":"module"}